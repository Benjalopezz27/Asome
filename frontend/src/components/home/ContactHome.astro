---
// src/components/home/ContactHome.astro
import { Image } from "astro:assets";
import contactHome from "../../assets/contactHome.webp";
import RightArrowIcon from "../shared/icons/rightArrowIcon.astro";
import Badge from "../shared/badge.astro";

// 1. Import i18n utilities
import { getLangFromUrl, useTranslations } from "../../i18n/utils";

// 2. Get current language and translation function
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const contactHref = `/${lang}/contact`;
---

<section class="w-full bg-[#F1F1F1] flex justify-center px-4 py-12 lg:py-20">
  <div
    class="flex flex-col lg:flex-row items-center justify-center max-w-7xl w-full"
  >
    <div
      class="bg-white w-full lg:w-140 p-8 lg:p-10
                    rounded-2xl lg:rounded-bl-4xl lg:rounded-tl-4xl lg:rounded-br-none lg:rounded-tr-none
                    flex flex-col gap-6 lg:gap-8 text-center lg:text-left"
    >
      {/* 3. Translate the Badge text */}
      <Badge title={t("badge.contact")} />

      <div>
        <h3 class="text-2xl sm:text-3xl lg:text-[40px] font-bold">
          {/* 3. Translate the Titles */}
          {t("contactHome.title1")}
        </h3>
        <h3 class="text-2xl sm:text-3xl lg:text-[40px] font-bold">
          {t("contactHome.title2")}
        </h3>
      </div>

      <a
        aria-label="Contact Us"
        href={contactHref}
        class="bg-primary-blue text-white inline-flex items-center
                              justify-center lg:justify-start gap-2 font-bold
                              py-3 px-4 rounded-xl w-full sm:w-fit mx-auto lg:mx-0 cursor-pointer"
      >
        {t("btn.scheduleCall")}
        <RightArrowIcon />
      </a>
    </div>
    <div class="bg-white rounded-4xl mt-8 lg:mt-0">
      <Image
        src={contactHome}
        alt={t("alt.contactHome")}
        class="lg:h-107.5 w-133 h-64 rounded-4xl p-1.5 object-cover"
      />
    </div>
  </div>
</section>
